# 二维码获取指南

## 📱 二维码在哪里？

二维码会在运行 `npx expo start` 后**自动显示在终端中**。

---

## 🔍 如果看不到二维码

### 原因 1: 终端不支持显示二维码

某些终端（如部分 macOS Terminal）不支持 ANSI 二维码显示。

**解决方案**：

#### 方法 A: 查看 URL（最简单）

运行后，终端会显示类似这样的信息：

```
› Metro waiting on exp://10.89.148.75:8081
```

**在 Expo Go 中手动输入这个 URL**：
1. 打开 Expo Go App
2. 点击 "Enter URL manually"（手动输入 URL）
3. 输入：`exp://10.89.148.75:8081`
4. 点击 "Connect"

---

#### 方法 B: 使用 LAN 模式（显示 IP）

```bash
cd /Users/gaoxuxu/Desktop/小佩APP/app
npx expo start --lan
```

这会显示清晰的 IP 地址，例如：
```
› Metro waiting on exp://10.89.148.75:8081
```

---

#### 方法 C: 使用 Tunnel 模式（推荐）

```bash
cd /Users/gaoxuxu/Desktop/小佩APP/app
npx expo start --tunnel
```

这会生成一个可公网访问的 URL，例如：
```
› Metro waiting on exp://abc123.anonymous.exp.direct:80
```

**优点**：
- ✅ 即使不在同一 Wi-Fi 也能连接
- ✅ 会显示二维码（如果终端支持）
- ✅ 更稳定

---

### 原因 2: Expo 在后台运行

如果 Expo 在后台运行，你看不到输出。

**解决方案**：

```bash
# 1. 停止旧的进程
pkill -f "expo start"

# 2. 重新启动（在前台）
cd /Users/gaoxuxu/Desktop/小佩APP/app
npx expo start --clear
```

---

### 原因 3: 需要打开开发菜单

如果 Expo 已经在运行，但看不到二维码：

1. **在运行 Expo 的终端中按 `m` 键**
2. **选择 "Show QR code"**

---

## 📋 完整启动步骤

### Step 1: 打开新终端窗口

确保能看到完整的输出。

### Step 2: 进入 App 目录

```bash
cd /Users/gaoxuxu/Desktop/小佩APP/app
```

### Step 3: 启动 Expo

```bash
# 方式 1: 普通模式（推荐）
npx expo start --clear

# 方式 2: LAN 模式（显示 IP）
npx expo start --lan

# 方式 3: Tunnel 模式（最稳定）
npx expo start --tunnel
```

### Step 4: 查看输出

终端会显示：

```
› Metro waiting on exp://10.89.148.75:8081
› Scan the QR code above with Expo Go (Android) or the Camera app (iOS)

› Press a │ open Android
› Press i │ open iOS simulator
› Press w │ open web

› Press r │ reload app
› Press m │ toggle menu
› Press ? │ show all commands
```

---

## 📱 连接方式

### 方式 1: 扫描二维码（如果能看到）

- **iOS**: 用**相机 App**扫描
- **Android**: 用**Expo Go App**扫描

### 方式 2: 手动输入 URL（如果看不到二维码）

1. 打开 **Expo Go App**
2. 点击 **"Enter URL manually"** 或 **"手动输入 URL"**
3. 输入终端中显示的 URL（例如：`exp://10.89.148.75:8081`）
4. 点击 **"Connect"** 或 **"连接"**

---

## 🎯 快速测试

### 测试 1: 检查 Expo 是否运行

```bash
# 检查端口
lsof -ti:8081

# 如果返回数字，说明 Expo 正在运行
```

### 测试 2: 获取当前 URL

如果 Expo 正在运行，可以：

1. 在终端中按 `m` 键
2. 选择 "Show QR code"
3. 或查看终端输出中的 URL

---

## ⚠️ 常见问题

### Q: 二维码显示为乱码？

**A**: 终端不支持 ANSI 二维码，使用**方法 A（手动输入 URL）**。

---

### Q: 输入 URL 后无法连接？

**检查清单**：
- [ ] 手机和电脑在同一 Wi-Fi（Tunnel 模式除外）
- [ ] 后端正在运行（`curl http://localhost:3000/health`）
- [ ] 防火墙允许端口 8081 和 3000

**解决方案**：使用 Tunnel 模式（`npx expo start --tunnel`）

---

### Q: 如何查看当前运行的 Expo URL？

**方法 1**: 在运行 Expo 的终端中按 `m` 键

**方法 2**: 查看进程信息
```bash
ps aux | grep expo
```

**方法 3**: 重新启动并查看输出
```bash
pkill -f "expo start"
cd /Users/gaoxuxu/Desktop/小佩APP/app
npx expo start --clear
```

---

## 🚀 推荐流程

### 第一次使用（推荐 Tunnel 模式）

```bash
cd /Users/gaoxuxu/Desktop/小佩APP/app
npx expo start --tunnel
```

**优点**：
- ✅ 显示二维码（如果终端支持）
- ✅ 即使不在同一 Wi-Fi 也能连接
- ✅ 更稳定

---

### 日常开发（同一 Wi-Fi）

```bash
cd /Users/gaoxuxu/Desktop/小佩APP/app
npx expo start --lan
```

**优点**：
- ✅ 显示清晰的 IP 地址
- ✅ 连接速度快
- ✅ 适合局域网开发

---

**现在请在新终端中运行 `npx expo start --tunnel`，应该能看到二维码或 URL！** 🎉

