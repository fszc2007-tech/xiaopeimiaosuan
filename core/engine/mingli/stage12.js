// 新增理由：十二运计算
// 回滚方式：回退此文件

import { BRANCHES } from '../utils/constants.js';

/**
 * 十二运表（修正版）
 * 基于传统命理理论，阳干和阴干的十二长生顺序不同
 */
export const CS = {
  // 甲木：长生在亥，顺时针排列
  "甲": ["沐浴","冠带","临官","帝旺","衰","病","死","墓","绝","胎","养","长生"],
  // 乙木：长生在午，逆时针排列
  "乙": ["病","衰","帝旺","临官","冠带","沐浴","长生","养","胎","绝","墓","死"],
  // 丙火：长生在寅，顺时针排列
  "丙": ["胎","养","长生","沐浴","冠带","临官","帝旺","衰","病","死","墓","绝"],
  // 丁火：长生在酉，逆时针排列
  "丁": ["绝","墓","死","病","衰","帝旺","临官","冠带","沐浴","长生","养","胎"],
  // 庚金：长生在巳，顺时针排列
  "庚": ["死","墓","绝","胎","养","长生","沐浴","冠带","临官","帝旺","衰","病"],
  // 辛金：长生在子，逆时针排列
  "辛": ["长生","养","胎","绝","墓","死","病","衰","帝旺","临官","冠带","沐浴"],
  // 壬水：长生在申，顺时针排列
  "壬": ["帝旺","衰","病","死","墓","绝","胎","养","长生","沐浴","冠带","临官"],
  // 癸水：长生在卯，逆时针排列
  "癸": ["临官","冠带","沐浴","长生","养","胎","绝","墓","死","病","衰","帝旺"],
  // 戊土：长生在寅，顺时针排列（与丙火相同）
  "戊": ["胎","养","长生","沐浴","冠带","临官","帝旺","衰","病","死","墓","绝"],
  // 己土：长生在酉，逆时针排列（与丁火相同）
  "己": ["绝","墓","死","病","衰","帝旺","临官","冠带","沐浴","长生","养","胎"]
};

/**
 * 计算十二运
 */
export function stage12(dayStem, branch) {
  return (CS[dayStem] || [])[BRANCHES.indexOf(branch)] || "";
}
