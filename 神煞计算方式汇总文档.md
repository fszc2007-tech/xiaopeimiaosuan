# 神煞计算方式汇总文档

> **文档版本**：v1.0  
> **更新日期**：2024年12月3日  
> **适用系统**：小佩命理系统 - 神煞计算引擎

---

## 📋 目录

- [一、核心贵人神煞（2个）](#一核心贵人神煞2个)
- [二、辅助吉星神煞（5个）](#二辅助吉星神煞5个)
- [三、三合局系神煞（8个）](#三三合局系神煞8个)
- [四、孤寡丧吊系神煞（5个）](#四孤寡丧吊系神煞5个)
- [五、禄位与才华系神煞（10个）](#五禄位与才华系神煞10个)
- [六、特殊组合神煞（6个）](#六特殊组合神煞6个)
- [七、空亡系统（3个）](#七空亡系统3个)

---

## 一、核心贵人神煞（2个）

### 1. 天乙贵人

**查法**：以年干或日干为主，查四柱地支

**口诀**：
- 甲戊庚牛羊（丑未）
- 乙己鼠猴乡（子申）
- 丙丁猪鸡位（亥酉）
- 壬癸蛇兔藏（巳卯）
- 六辛逢虎马（寅午）

**对应表**：
```
甲 → 丑、未
戊 → 丑、未
庚 → 丑、未
乙 → 子、申
己 → 子、申
丙 → 亥、酉
丁 → 亥、酉
辛 → 寅、午
壬 → 巳、卯
癸 → 巳、卯
```

**示例**：
- 日干为甲，四柱地支中有丑或未 → 该柱标注"天乙贵人"

---

### 2. 文昌贵人

**查法**：以年干或日干为主，查四柱地支

**口诀**：甲巳乙午丙申丁酉，戊申己酉庚亥辛戌，壬寅癸卯

**对应表**：
```
甲 → 巳
乙 → 午
丙 → 申
丁 → 酉
戊 → 申
己 → 酉
庚 → 亥
辛 → 戌
壬 → 寅
癸 → 卯
```

**示例**：
- 日干为甲，四柱地支中有巳 → 该柱标注"文昌贵人"

---

## 二、辅助吉星神煞（5个）

### 1. 太极贵人

**查法**：以年干或日干为主，查四柱地支

**口诀**：甲乙子午，丙丁卯酉，戊己辰戌丑未，庚辛申寅，壬癸巳亥

**对应表**：
```
甲 → 子、午
乙 → 子、午
丙 → 卯、酉
丁 → 卯、酉
戊 → 辰、戌、丑、未
己 → 辰、戌、丑、未
庚 → 申、寅
辛 → 申、寅
壬 → 巳、亥
癸 → 巳、亥
```

---

### 2. 月德贵人

**查法**：以月支为主，根据三合局查对应天干

**口诀**：寅午戌见丙，申子辰见壬，亥卯未见甲，巳酉丑见庚

**对应表**：
```
寅、午、戌月 → 丙
申、子、辰月 → 壬
亥、卯、未月 → 甲
巳、酉、丑月 → 庚
```

---

### 3. 天德贵人

**查法**：以月支为主，查对应的天干或地支

**对应表**：
```
寅月 → 丁
卯月 → 申
辰月 → 壬
巳月 → 辛
午月 → 亥
未月 → 甲
申月 → 癸
酉月 → 寅
戌月 → 丙
亥月 → 乙
子月 → 巳
丑月 → 庚
```

**说明**：结果为天干时查天干，为地支时查地支

---

### 4. 月德合

**查法**：基于月德贵人，查其天干合

**算法**：
1. 先找出月德（如寅午戌月 → 丙）
2. 再找天干合（丙 → 辛）
3. 查四柱天干是否有辛

**合化对应**：
- 丙 ↔ 辛
- 壬 ↔ 丁
- 甲 ↔ 己
- 庚 ↔ 乙

---

### 5. 天德合

**查法**：基于天德贵人，查其合

**对应表**：
```
寅月 → 壬（丁的合）
卯月 → 巳（申的合）
辰月 → 丁（壬的合）
巳月 → 丙（辛的合）
午月 → 寅（亥的合）
未月 → 己（甲的合）
申月 → 戊（癸的合）
酉月 → 亥（寅的合）
戌月 → 辛（丙的合）
亥月 → 庚（乙的合）
子月 → 申（巳的合）
丑月 → 乙（庚的合）
```

---

### 6. 红鸾

**查法**：以年支为主，查对应地支

**对应表**：
```
子年 → 卯
丑年 → 寅
寅年 → 丑
卯年 → 子
辰年 → 亥
巳年 → 戌
午年 → 酉
未年 → 申
申年 → 未
酉年 → 午
戌年 → 巳
亥年 → 辰
```

---

### 7. 天喜

**查法**：以年支为主，查对应地支

**对应表**：
```
子年 → 酉
丑年 → 申
寅年 → 未
卯年 → 午
辰年 → 巳
巳年 → 辰
午年 → 卯
未年 → 寅
申年 → 丑
酉年 → 子
戌年 → 亥
亥年 → 戌
```

---

## 三、三合局系神煞（8个）

### 1. 桃花（咸池）

**查法**：以年支为主，根据三合局查桃花地支

**口诀**：申子辰酉，寅午戌卯，巳酉丑午，亥卯未子

**对应表**：
```
申、子、辰年 → 酉（桃花在酉）
寅、午、戌年 → 卯（桃花在卯）
巳、酉、丑年 → 午（桃花在午）
亥、卯、未年 → 子（桃花在子）
```

**说明**：桃花和咸池是同一神煞的不同名称

---

### 2. 华盖

**查法**：以年支为主，根据三合局查墓库（华盖位）

**口诀**：寅午戌见戌，申子辰见辰，亥卯未见未，巳酉丑见丑

**对应表**：
```
寅、午、戌年 → 戌（火墓）
申、子、辰年 → 辰（水墓）
亥、卯、未年 → 未（木墓）
巳、酉、丑年 → 丑（金墓）
```

---

### 3. 驿马

**查法**：以年支为主，根据三合局查驿马地支

**口诀**：申子辰寅，寅午戌申，巳酉丑亥，亥卯未巳

**对应表**：
```
申、子、辰年 → 寅（驿马在寅）
寅、午、戌年 → 申（驿马在申）
巳、酉、丑年 → 亥（驿马在亥）
亥、卯、未年 → 巳（驿马在巳）
```

---

### 4. 将星

**查法**：以年支为主，根据三合局的中神

**口诀**：申子辰子，寅午戌午，巳酉丑酉，亥卯未卯

**对应表**：
```
申、子、辰年 → 子（水局中神）
寅、午、戌年 → 午（火局中神）
巳、酉、丑年 → 酉（金局中神）
亥、卯、未年 → 卯（木局中神）
```

---

### 5. 亡神

**查法**：以年支为主，根据三合局查亡神地支

**对应表**：
```
申、子、辰年 → 亥
寅、午、戌年 → 巳
巳、酉、丑年 → 申
亥、卯、未年 → 寅
```

---

### 6. 劫煞

**查法**：以年支为主，根据三合局查劫煞地支

**口诀**：申子辰见巳，寅午戌见亥，巳酉丑见寅，亥卯未见申

**对应表**：
```
申、子、辰年 → 巳
寅、午、戌年 → 亥
巳、酉、丑年 → 寅
亥、卯、未年 → 申
```

---

### 7. 官符

**查法**：以年支为主，取三合五行的临官位

**口诀**：申子辰亥，巳酉丑申，寅午戌巳，亥卯未寅

**对应表**：
```
申、子、辰年 → 亥（水临官）
巳、酉、丑年 → 申（金临官）
寅、午、戌年 → 巳（火临官）
亥、卯、未年 → 寅（木临官）
```

---

### 8. 白虎（灾煞）

**查法**：以年支为主，根据三合局查白虎地支

**口诀**：寅午戌见子，申子辰见午，亥卯未见酉，巳酉丑见卯

**对应表**：
```
寅、午、戌年 → 子
申、子、辰年 → 午
亥、卯、未年 → 酉
巳、酉、丑年 → 卯
```

---

## 四、孤寡丧吊系神煞（5个）

### 1. 孤辰

**查法**：以年支为主，查对应地支

**对应表**：
```
亥、子、丑年 → 寅
寅、卯、辰年 → 巳
巳、午、未年 → 申
申、酉、戌年 → 亥
```

---

### 2. 寡宿

**查法**：以年支为主，查对应地支

**对应表**：
```
亥、子、丑年 → 戌
寅、卯、辰年 → 丑
巳、午、未年 → 辰
申、酉、戌年 → 未
```

---

### 3. 丧门

**查法**：以年支为主，年支+2位

**算法**：
```
年支的地支序号 + 2（取模12）
```

**示例**：
- 年支为子（序号0）→ 丧门在寅（序号2）
- 年支为酉（序号9）→ 丧门在亥（序号11）

---

### 4. 吊客

**查法**：以年支为主，年支-2位

**算法**：
```
年支的地支序号 - 2（取模12）
```

**示例**：
- 年支为子（序号0）→ 吊客在戌（序号10）
- 年支为卯（序号3）→ 吊客在丑（序号1）

---

### 5. 披麻

**查法**：以年支为主，年支-3位

**算法**：
```
年支的地支序号 - 3（取模12）
```

**示例**：
- 年支为子（序号0）→ 披麻在酉（序号9）
- 年支为辰（序号4）→ 披麻在丑（序号1）

---

## 五、禄位与才华系神煞（10个）

### 1. 国印贵人

**查法**：以日干为主，查四柱地支

**对应表**：
```
甲 → 戌
乙 → 亥
丙 → 丑
丁 → 寅
戊 → 丑
己 → 寅
庚 → 辰
辛 → 巳
壬 → 未
癸 → 申
```

**注意**：当前系统只看日干，主流算法应同时看年干和日干

---

### 2. 天厨贵人

**查法**：以日干为主，查四柱地支

**算法**：以日干的食神所临之禄位为天厨（主流《三命通会》算法）

**对应表**：
```
甲 → 巳
乙 → 午
丙 → 巳
丁 → 午
戊 → 申
己 → 酉
庚 → 亥
辛 → 子
壬 → 寅
癸 → 卯
```

---

### 3. 福星贵人

**查法**：以年干或日干为主，查四柱地支

**口诀**：甲丙相邀入虎乡，更游鼠穴最高强；乙癸逢牛卯禄昌，戊猴己未丁宜亥；庚赶马头辛到巳，壬骑龙背喜非常

**对应表**：
```
甲 → 寅、子
丙 → 寅、子
乙 → 卯、丑
癸 → 卯、丑
戊 → 申
己 → 未
丁 → 亥
庚 → 午
辛 → 巳
壬 → 辰
```

---

### 4. 德秀贵人

**查法**：以月支三合局为基准，查四柱天干是否同时具备"德"和"秀"

**重要规则**：必须同时有德干和秀干才算命中

**对应表**：
```
寅、午、戌月（火局）：
  德干：丙、丁
  秀干：戊、癸

申、子、辰月（水局）：
  德干：壬、癸、戊、己
  秀干：丙、辛、甲、己

巳、酉、丑月（金局）：
  德干：庚、辛
  秀干：乙、庚

亥、卯、未月（木局）：
  德干：甲、乙
  秀干：丁、壬
```

**算法步骤**：
1. 根据月支确定三合局
2. 判断四柱天干中是否同时存在该局的德干和秀干
3. 如果同时存在，标注命中德或秀的柱位

**示例**：
- 月支为寅（火局），四柱天干有丙（德）和戊（秀） → 标注丙和戊所在的柱为"德秀贵人"
- 月支为寅，但只有丙没有戊 → 不算德秀贵人

---

### 5. 龙德贵人

**查法**：以年支为主，查对应地支

**对应表**：
```
子年 → 未
丑年 → 申
寅年 → 酉
卯年 → 戌
辰年 → 亥
巳年 → 子
午年 → 丑
未年 → 寅
申年 → 卯
酉年 → 辰
戌年 → 巳
亥年 → 午
```

---

### 6. 词馆贵人

**查法**：以年干、日干为主，查完整的干支组合（主流禄命法）

**重要说明**：词馆必须匹配完整的干支柱，不是只看地支

**对应表**（干支组合）：
```
甲 → 庚寅
乙 → 辛卯
丙 → 乙巳
丁 → 戊午
戊 → 丁巳
己 → 庚午
庚 → 壬申
辛 → 癸酉
壬 → 癸亥
癸 → 壬戌
```

**算法**：
1. 根据年干和日干，找出对应的词馆干支（如甲→庚寅）
2. 检查四柱中哪一柱的干支与词馆干支完全一致
3. 完全匹配的柱位标注"词馆"

**示例**：
- 日干为甲，时柱为庚寅 → 时柱标注"词馆"
- 日干为甲，四柱中有寅但天干不是庚 → 不算词馆

---

### 7. 流霞

**查法**：以日干为主，查四柱地支

**对应表**：
```
甲 → 酉
乙 → 戌
丙 → 未
丁 → 申
戊 → 巳
己 → 午
庚 → 辰
辛 → 卯
壬 → 亥
癸 → 寅
```

---

### 8. 建禄

**查法**：以日干为主，查日干的禄位地支

**对应表**（禄神/临官位）：
```
甲 → 寅
乙 → 卯
丙 → 巳
丁 → 午
戊 → 巳
己 → 午
庚 → 申
辛 → 酉
壬 → 亥
癸 → 子
```

**算法**：查日干的禄位地支是否出现在四柱地支中

---

### 9. 专禄

**查法**：日干在日支的禄位（自坐禄）

**对应表**：同建禄

**算法**：检查日支是否为日干的禄位

**示例**：
- 日柱为甲寅 → 寅是甲的禄位 → 日柱有"专禄"
- 日柱为甲子 → 子不是甲的禄位 → 无专禄

---

### 10. 八专

**查法**：只看日柱和时柱的干支组合

**八专日柱**：
```
甲寅、乙卯、丁未、己未、庚申、辛酉、戊戌、癸丑
```

**算法**：
- 日柱或时柱的干支在上述8个组合中 → 该柱标注"八专"

---

## 六、特殊组合神煞（6个）

### 1. 十恶大败

**查法**：只看日柱，只有10个固定日柱

**十恶大败日**：
```
甲辰、乙巳、丙申、丁亥、戊戌
己丑、庚辰、辛巳、壬申、癸亥
```

**算法**：
- 日柱在上述10个干支组合中 → 日柱标注"十恶大败"
- 年、月、时柱不查十恶大败

**象征**：禄神逢空亡之日

---

### 2. 金神

**查法**：只看日柱（日坐金神格）

**金神日柱**：
```
乙丑、己巳、癸酉
```

**算法**：
- 日柱为乙丑、己巳、癸酉之一 → 日柱标注"金神"
- 采用软件主流的保守算法

---

### 3. 金舆贵人

**查法**：以日干为主，查四柱地支

**对应表**：
```
甲 → 辰
乙 → 巳
丙 → 未
丁 → 申
戊 → 未
己 → 申
庚 → 戌
辛 → 亥
壬 → 丑
癸 → 寅
```

---

### 4. 魁罡

**查法**：检查四柱干支是否为魁罡组合

**魁罡柱**：
```
庚辰、庚戌、壬辰、壬戌
```

**算法**：
- 四柱中任一柱的干支为上述4个组合之一 → 该柱标注"魁罡"

---

### 5. 天赦日

**查法**：只看日柱，根据月支（季节）和日柱干支判断

**口诀**：春戊寅，夏甲午，秋戊申，冬甲子

**对应表**：
```
寅、卯、辰月（春）→ 日柱为戊寅
巳、午、未月（夏）→ 日柱为甲午
申、酉、戌月（秋）→ 日柱为戊申
亥、子、丑月（冬）→ 日柱为甲子
```

**算法**：
1. 根据月支确定季节
2. 检查日柱是否为该季节对应的天赦日

---

### 6. 阴差阳错

**查法**：只看日柱，共12个日柱

**阴差阳错日**：
```
丙子、丁丑、戊寅、辛卯、壬辰、癸巳
丙午、丁未、戊申、辛酉、壬戌、癸亥
```

**算法**：
- 日柱在上述12个干支中 → 日柱标注"阴差阳错"

---

### 7. 阳刃（羊刃）

**查法**：以日干为主，查日干的阳刃地支

**对应表**：
```
甲 → 卯
乙 → 辰
丙 → 午
丁 → 未
戊 → 午
己 → 未
庚 → 酉
辛 → 戌
壬 → 子
癸 → 丑
```

**算法**：查日干的阳刃地支是否出现在四柱地支中

---

### 8. 红艳煞

**查法**：以日干为主，查四柱地支

**对应表**：
```
甲 → 午
乙 → 申
丙 → 寅
丁 → 未
戊 → 辰
己 → 辰
庚 → 戌
辛 → 酉
壬 → 子
癸 → 申
```

---

### 9. 孤鸾煞

**查法**：看日柱和时柱，至少出现两组才算

**经典孤鸾日柱**（主流《三命通会》系统）：
```
乙巳、丁巳、辛亥、戊申、壬寅、戊午、壬子、丙午
```

**算法**：
1. 检查日柱和时柱是否在上述8个干支中
2. 至少出现其中**两组**，才标注"孤鸾煞"
3. 只出现一组不算孤鸾煞

**重要说明**：
- 传统多以**女命**为主论孤鸾
- 男命仅作参考，不单凭孤鸾判定婚姻凶

**示例**：
- 日柱为乙巳，时柱为丁巳 → 两组都命中 → 标注孤鸾煞 ✅
- 日柱为乙巳，时柱为甲子 → 只有一组 → 不算孤鸾煞 ❌

---

## 七、空亡系统（3个）

### 1. 空亡（旬空）

**查法**：以日柱定旬，找出该旬的两个空亡地支

**六旬空亡**：
```
甲子旬（甲子～癸酉）→ 戌、亥空
甲戌旬（甲戌～癸未）→ 申、酉空
甲申旬（甲申～癸巳）→ 午、未空
甲午旬（甲午～癸卯）→ 辰、巳空
甲辰旬（甲辰～癸丑）→ 寅、卯空
甲寅旬（甲寅～癸亥）→ 子、丑空
```

**算法**：
1. 根据日柱干支确定所在旬
2. 找出该旬的两个空亡地支
3. 检查四柱地支是否命中空亡

---

### 2. 年空亡

**查法**：以年支为主，根据年支所在旬查空亡

**算法**：同空亡，但以年支定旬

---

### 3. 月空亡

**查法**：以月支为主，根据月支所在旬查空亡

**算法**：同空亡，但以月支定旬

---

### 4. 日空亡

**查法**：以日支为主，根据日支所在旬查空亡

**算法**：同空亡，但以日支定旬

---

## 📌 附录：常用术语说明

### 1. 三合局

```
申子辰 → 水局
寅午戌 → 火局
巳酉丑 → 金局
亥卯未 → 木局
```

### 2. 十二长生

```
长生 → 沐浴 → 冠带 → 临官（禄） → 帝旺 → 衰 → 病 → 死 → 墓 → 绝 → 胎 → 养
```

### 3. 天干五合

```
甲 ↔ 己 → 化土
乙 ↔ 庚 → 化金
丙 ↔ 辛 → 化水
丁 ↔ 壬 → 化木
戊 ↔ 癸 → 化火
```

### 4. 地支六合

```
子 ↔ 丑
寅 ↔ 亥
卯 ↔ 戌
辰 ↔ 酉
巳 ↔ 申
午 ↔ 未
```

### 5. 地支六冲

```
子 ↔ 午
丑 ↔ 未
寅 ↔ 申
卯 ↔ 酉
辰 ↔ 戌
巳 ↔ 亥
```

---

## 🔍 重要提示

### 1. 查法优先级

大部分神煞以**日干**或**年干**为主，少数以月支、年支为主。具体查法请参照各神煞说明。

### 2. 同时看年干和日干的神煞

以下神煞需要**同时**看年干和日干：
- 天乙贵人
- 文昌贵人
- 太极贵人
- 福星贵人
- 词馆贵人（主流禄命法）

### 3. 只看日柱的神煞

以下神煞**只看日柱**：
- 十恶大败
- 金神（主流保守版）
- 专禄
- 八专（日柱和时柱）
- 天赦日
- 阴差阳错
- 孤鸾煞

### 4. 需要完整干支匹配的神煞

以下神煞需要**完整的干支组合**匹配：
- 词馆贵人（如甲→庚寅，必须天干地支都匹配）
- 八专
- 十恶大败
- 金神
- 魁罡
- 天赦日
- 阴差阳错
- 孤鸾煞

---

## 📝 版本历史

### v1.0（2024-12-03）
- 初始版本，汇总38个神煞的计算方式
- 包含完整的口诀、对应表、算法说明
- 修正了将星、劫煞、官符、太极贵人、词馆、金神等神煞的映射错误
- 优化了德秀贵人、华盖、驿马、亡神等神煞的计算逻辑

---

## 📧 联系方式

如发现神煞计算方式有误或需要补充说明，请联系开发团队。

**文档维护**：小佩命理系统开发组  
**最后更新**：2024年12月3日

