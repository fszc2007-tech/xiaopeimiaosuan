# 🔧 登录卡住问题 - 修复步骤

## 问题原因
前端 App 缓存了旧的 API 地址，没有使用新的 IP：`172.20.10.2:3000`

## ✅ 已完成的修复
1. ✅ 后端 API 正常运行：`http://172.20.10.2:3000`
2. ✅ 验证码固定为：`123456`
3. ✅ 前端配置已更新：`app/src/config/env.ts`
4. ✅ Expo 缓存已清除
5. ✅ Expo 正在重新启动

## 📱 请在 iOS 模拟器中执行以下步骤：

### 方法一：重新加载 App（推荐）

1. **在 iOS 模拟器中按 `Cmd + R`**
   - 或者摇一摇设备（`Cmd + Ctrl + Z`）
   - 选择 "Reload"

2. **等待 App 重新加载**（可能需要 10-30 秒）

3. **重新登录**：
   - 手机号：`13636602202`
   - 验证码会自动填充为：`123456`
   - 点击"登入"

### 方法二：完全重启 App

1. **在 iOS 模拟器中关闭 App**
   - 按 `Cmd + Shift + H` 回到主屏幕
   - 向上滑动关闭 App

2. **重新打开 Expo Go**

3. **扫描二维码或选择项目**

4. **等待 App 加载**

5. **登录**

## 🔍 如何确认问题已解决？

登录界面应该：
1. ✅ 输入手机号后
2. ✅ 点击"发送验证码" → 验证码自动填充 `123456`
3. ✅ 点击"登入" → **1-2 秒内**跳转到主页（不再卡住）

## ❌ 如果还是卡住

请查看错误信息：
1. 在 iOS 模拟器中摇一摇设备（`Cmd + Ctrl + Z`）
2. 选择 "Show Element Inspector"
3. 或查看 Expo 终端输出的日志

## 🛠️ 技术细节

- **旧的 API 地址**：`http://10.89.148.75:3000` （无法访问）
- **新的 API 地址**：`http://172.20.10.2:3000` （正常）
- **测试命令**：
  ```bash
  curl http://172.20.10.2:3000/health
  ```

## 📋 服务状态

- ✅ Core 后端：运行中 @ `http://172.20.10.2:3000`
- ✅ Admin 管理后台：运行中 @ `http://localhost:5173`
- ✅ Expo Metro：运行中 @ `http://localhost:8081`

