# Detox E2E æµ‹è¯•å¿«é€Ÿå¼€å§‹

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥ï¼‰

### æ­¥éª¤ 1: æ„å»ºåŸç”Ÿåº”ç”¨

ç”±äºè¿™æ˜¯ Expo é¡¹ç›®ï¼Œéœ€è¦å…ˆæ„å»ºåŸç”Ÿåº”ç”¨ï¼š

```bash
# iOS
npx expo run:ios

# Android
npx expo run:android
```

è¿™ä¼šç”Ÿæˆ `ios/` å’Œ `android/` ç›®å½•ã€‚

### æ­¥éª¤ 2: æ„å»ºæµ‹è¯•åº”ç”¨

```bash
# iOS
npm run test:e2e:ios:build

# Android
npm run test:e2e:android:build
```

### æ­¥éª¤ 3: è¿è¡Œæµ‹è¯•

```bash
# iOS
npm run test:e2e:ios

# Android
npm run test:e2e:android
```

## ğŸ“ åœ¨ç»„ä»¶ä¸­æ·»åŠ  testID

ä¸ºäº†è®©æµ‹è¯•èƒ½å¤Ÿæ‰¾åˆ°å…ƒç´ ï¼Œéœ€è¦åœ¨ç»„ä»¶ä¸­æ·»åŠ  `testID`ï¼š

```tsx
// ç¤ºä¾‹ï¼šç™»å½•æŒ‰é’®
<Button 
  testID="login-button"
  onPress={handleLogin}
>
  ç™»å½•
</Button>

// ç¤ºä¾‹ï¼šè¾“å…¥æ¡†
<TextInput
  testID="phone-input"
  value={phone}
  onChangeText={setPhone}
  placeholder="è¯·è¾“å…¥æ‰‹æœºå·"
/>

// ç¤ºä¾‹ï¼šå±å¹•å®¹å™¨
<View testID="auth-screen">
  {/* å†…å®¹ */}
</View>
```

## ğŸ¯ å¸¸ç”¨æµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:e2e:ios

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
detox test e2e/auth.e2e.js --configuration ios.sim.debug

# æ¸…ç†ç¼“å­˜
npm run test:e2e:ios:clean

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
detox test --configuration ios.sim.debug --loglevel trace
```

## âš ï¸ å¸¸è§é—®é¢˜

### 1. æ‰¾ä¸åˆ°å…ƒç´ 
- ç¡®ä¿ç»„ä»¶æœ‰ `testID` å±æ€§
- ä½¿ç”¨ `waitFor` ç­‰å¾…å…ƒç´ å‡ºç°
- æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨å±å¹•ä¸Šå¯è§

### 2. æ„å»ºå¤±è´¥
- ç¡®ä¿å·²è¿è¡Œ `npx expo run:ios` æˆ– `npx expo run:android`
- æ£€æŸ¥ Xcode/Android Studio é…ç½®
- æ¸…ç†æ„å»ºï¼š`npm run test:e2e:ios:clean`

### 3. æµ‹è¯•è¶…æ—¶
- å¢åŠ  `withTimeout` æ—¶é—´
- æ£€æŸ¥åº”ç”¨æ˜¯å¦æ­£å¸¸å¯åŠ¨

## ğŸ“š æ›´å¤šä¿¡æ¯

æŸ¥çœ‹ `e2e/README.md` è·å–è¯¦ç»†æ–‡æ¡£ã€‚

