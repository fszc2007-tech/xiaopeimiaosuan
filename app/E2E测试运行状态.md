# E2E æµ‹è¯•è¿è¡ŒçŠ¶æ€

## âœ… å‡†å¤‡å·¥ä½œå·²å®Œæˆ

### 1. ä¾èµ–å®‰è£…
- âœ… Detox å·²å®‰è£…
- âœ… Jest å·²å®‰è£…
- âœ… **applesimutils å·²å®‰è£…** (0.9.12)

### 2. é…ç½®ä¿®å¤
- âœ… Jest é…ç½®å·²æ›´æ–°ï¼ˆæ”¯æŒ `*.e2e.js`ï¼‰
- âœ… Detox é…ç½®å·²æ›´æ–°ï¼ˆæ­£ç¡®çš„åº”ç”¨è·¯å¾„ï¼‰
- âœ… åˆå§‹åŒ–æ–‡ä»¶å·²åˆ›å»º

### 3. æµ‹è¯•æ–‡ä»¶
- âœ… `e2e/firstTest.e2e.js` - åŸºç¡€æµ‹è¯•
- âœ… `e2e/auth.e2e.js` - è®¤è¯æµ‹è¯•
- âœ… `e2e/navigation.e2e.js` - å¯¼èˆªæµ‹è¯•

### 4. åº”ç”¨æ„å»º
- âœ… iOS åº”ç”¨å·²æ„å»ºå®Œæˆ
- âœ… ç¬¦å·é“¾æ¥å·²åˆ›å»º

## ğŸš€ æµ‹è¯•æ­£åœ¨è¿è¡Œ

### è¿è¡Œå‘½ä»¤
```bash
cd /Users/gaoxuxu/Desktop/å°ä½©APP/app
npm run test:e2e:ios
```

### æµ‹è¯•æ—¥å¿—
æµ‹è¯•æ—¥å¿—å·²ä¿å­˜åˆ°ï¼š`/tmp/detox-test-final.log`

æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼š
```bash
tail -f /tmp/detox-test-final.log
```

## ğŸ“Š æµ‹è¯•å†…å®¹

### 1. åŸºç¡€æµ‹è¯• (firstTest.e2e.js)
- åº”ç”¨å¯åŠ¨
- æ˜¾ç¤ºåº”ç”¨æ ¹å…ƒç´  (`app-root`)
- å¯¼èˆªåˆ°ç™»å½•é¡µé¢

### 2. è®¤è¯æµ‹è¯• (auth.e2e.js)
- æ˜¾ç¤ºç™»å½•è¡¨å• (`auth-screen`)
- è¾“å…¥æ‰‹æœºå· (`phone-input`)
- è¯·æ±‚éªŒè¯ç  (`request-otp-button`)
- å®Œæˆç™»å½• (`login-button`)

### 3. å¯¼èˆªæµ‹è¯• (navigation.e2e.js)
- åº•éƒ¨å¯¼èˆªåˆ‡æ¢ (`tab-cases`, `tab-xiaopei-home`, `tab-me`)
- é¡µé¢è·³è½¬
- éªŒè¯å„ä¸ªå±å¹• (`cases-screen`, `xiaopei-home-screen`, `me-screen`)

## â±ï¸ é¢„è®¡æ—¶é—´

- **æµ‹è¯•å¯åŠ¨**: 10-30 ç§’
- **å•ä¸ªæµ‹è¯•**: 30-60 ç§’
- **å®Œæ•´æµ‹è¯•å¥—ä»¶**: 5-10 åˆ†é’Ÿ

## ğŸ” ç›‘æ§æµ‹è¯•

### æŸ¥çœ‹æµ‹è¯•è¿›ç¨‹
```bash
ps aux | grep -E "detox|jest" | grep -v grep
```

### æŸ¥çœ‹æ¨¡æ‹Ÿå™¨
æµ‹è¯•è¿è¡Œæ—¶ä¼šè‡ªåŠ¨æ‰“å¼€ iOS æ¨¡æ‹Ÿå™¨ï¼Œå¯ä»¥è§‚å¯Ÿæµ‹è¯•è¿‡ç¨‹ã€‚

### æŸ¥çœ‹æµ‹è¯•ç»“æœ
æµ‹è¯•å®Œæˆåï¼Œä¼šåœ¨ç»ˆç«¯æ˜¾ç¤ºæµ‹è¯•ç»“æœã€‚

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ¨¡æ‹Ÿå™¨**: ç¡®ä¿ iOS æ¨¡æ‹Ÿå™¨å¯ç”¨
2. **åº”ç”¨**: ç¡®ä¿åº”ç”¨å·²æ„å»º
3. **Metro**: Metro bundler ä¼šè‡ªåŠ¨å¯åŠ¨
4. **è¶…æ—¶**: æ¯ä¸ªæµ‹è¯•è¶…æ—¶æ—¶é—´ä¸º 120 ç§’

## ğŸ“ å¦‚æœæµ‹è¯•å¤±è´¥

### å¸¸è§é—®é¢˜

1. **åº”ç”¨æœªå¯åŠ¨**
   - æ£€æŸ¥åº”ç”¨æ˜¯å¦å·²æ„å»º
   - æ£€æŸ¥ Detox é…ç½®ä¸­çš„è·¯å¾„

2. **å…ƒç´ æœªæ‰¾åˆ°**
   - æ£€æŸ¥ testID æ˜¯å¦æ­£ç¡®æ·»åŠ 
   - æ£€æŸ¥å…ƒç´ æ˜¯å¦å¯è§

3. **è¶…æ—¶**
   - å¢åŠ è¶…æ—¶æ—¶é—´
   - æ£€æŸ¥åº”ç”¨å“åº”é€Ÿåº¦

### è°ƒè¯•æ–¹æ³•

```bash
# è¿è¡Œå•ä¸ªæµ‹è¯•
npx detox test --configuration ios.sim.debug e2e/firstTest.e2e.js

# è¯¦ç»†è¾“å‡º
npm run test:e2e:ios -- --verbose

# æŸ¥çœ‹æ—¥å¿—
tail -f /tmp/detox-test-final.log
```

---

**çŠ¶æ€**: â³ æµ‹è¯•æ­£åœ¨è¿è¡Œä¸­  
**æ—¥å¿—æ–‡ä»¶**: `/tmp/detox-test-final.log`  
**å®‰è£…æ—¶é—´**: 2025-11-19 13:55

